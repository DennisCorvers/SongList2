<Window x:Class="SongList2.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:viewmodels="clr-namespace:SongList2.ViewModels"
        xmlns:behaviour="clr-namespace:SongList2.Views.Behaviour"
        mc:Ignorable="d"
        Title="{Binding Title}"
        d:DataContext="{d:DesignInstance Type=viewmodels:SongOverviewViewModel,IsDesignTimeCreatable=False}"
        Closing="WindowClosing"
        Height="450" Width="800">
    <Window.Resources>
        <CollectionViewSource x:Key="SongsCollectionView" Source="{Binding Songs}" />
    </Window.Resources>
    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_File">
                <MenuItem Header="_New" Click="NewFileClick"/>
                <MenuItem Header="_Open" Click="OpenFileClick"/>
                <Separator />
                <MenuItem Header="_Save" Click="SaveFileClick"/>
                <MenuItem Header="Save _As" Click="SaveFileAsClick"/>
                <Separator />
                <MenuItem Header="_Close" Click="ExitApplicationClick"/>
            </MenuItem>
            <MenuItem Header="Data">
                <MenuItem Header="Import" Command="{Binding ImportCommand}" />
                <MenuItem Header="Export" Command="{Binding ExportCommand}" />
            </MenuItem>
            <MenuItem Header="Help">
                <MenuItem Header="Open Log File" Click="OpenLatestLogClick" />
            </MenuItem>
        </Menu>
        
        
        <DataGrid x:Name="SongsDataGrid" 
                  ItemsSource="{Binding Source={StaticResource SongsCollectionView}}"
                  behaviour:DataGridSelectedItemsBehaviour.SelectedItems="{Binding SelectedSongs, Mode=TwoWay}"
                  AutoGenerateColumns="False"
                  CanUserSortColumns="True"
                  IsReadOnly="True"
                  SelectionMode="Extended"
                  Margin="10" 
                  DockPanel.Dock="Top" 
                  Height="300">

            <DataGrid.Columns>
                <DataGridTextColumn Header="Title" 
                                    Binding="{Binding Name}" 
                                    SortMemberPath="Name"
                                    Width="*"/>

                <DataGridTextColumn Header="Artist" 
                                    Binding="{Binding Artist}" 
                                    SortMemberPath="Artist"
                                    Width="*"
                                    />

                <DataGridTextColumn Header="Album" 
                                    Binding="{Binding Album}" 
                                    SortMemberPath="Album"
                                    Width="*" />

                <DataGridTextColumn Header="Year" 
                                    Binding="{Binding Year}" 
                                    SortMemberPath="Year"
                                    Width="60" />
            </DataGrid.Columns>
        </DataGrid>
    </DockPanel>
</Window>
